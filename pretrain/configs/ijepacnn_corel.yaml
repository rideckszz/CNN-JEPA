defaults:
  - override hydra/job_logging: disabled
  - override hydra/hydra_logging: disabled
  - _self_

# === general experiment config ===
name: "ijepacnn_corel_b{optimizer.batch_size}_lr{optimizer.lr}"
artifacts_root: "artifacts/ijepacnn_corel"
seed: 42
wandb: false        # set true if you want to log to W&B

# this is the key that was missing
use_projection_head: true

# === backbone definition (what LightlyModel expects) ===
backbone:
  name: "resnet50"          # you can switch to convnext_tiny if you want
  pretrained_weights: "imagenet"  # "imagenet" / null
  kwargs: {}                # extra kwargs for timm.create_model

# === data config ===
data:
  dataset_name: "corel"     # we'll still need to wire this inside the code
  root: "/local1/derick/final_project/Corel-1K"
  metadata_csv: "/local1/derick/final_project/corel_metadata_clean.csv"
  num_workers: 6

# batch size lives under optimizer in their code
optimizer:
  batch_size: 64
  lr: 0.001
  weight_decay: 1e-4
  algorithm: "adamw"

# === trainer args (what pl.Trainer(**cfg.trainer) will receive) ===
trainer:
  max_epochs: 200
  accelerator: "gpu"
  devices: 1
  precision: 16
  log_every_n_steps: 50
